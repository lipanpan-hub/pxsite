{"title":"CSS Flexible Box Layout用法","date":"2021-01-13T10:16:36.000Z","date_formatted":{"ll":"2021年1月13日","L":"2021/01/13","MM-DD":"01-13"},"link":"post/2021/202101/CSS-Flexible-Box-Layout","categories":["CSS相关"],"updated":"2022-02-01T01:24:26.640Z","content":"<p>相关参考文档:<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout\" target=\"_blank\">CSS Flexible Box Layout</a></p>\n<h2 id=\"flexbox-布局基本概念\">flexbox 布局基本概念<a title=\"#flexbox-布局基本概念\" href=\"#flexbox-布局基本概念\"></a></h2>\n<p>要想使用flexbox布局 首先要了解几个概念:<br>\n<img src=\"https://search.pstatic.net/common/?src=https://i.imgur.com/51CGKGU.png\" alt=\"\" loading=\"lazy\"></p>\n<p><strong><code>Flexbox</code></strong>: 一种在单一方向上显示项目的布局模型<br>\n<strong><code>Flex Container</code></strong>: 当我们为某个元素的CSS中设置了display为 flex或者inline-flex,则当前元素都会变成 flex container<br>\n<strong><code>Flex Item</code></strong>: 被flex container 包裹的直接子元素(direct children)就是flex item,此外被flex container直接包裹的连续文本也是 flex item.<br>\n<strong><code>Main Axis</code></strong>: 主轴是用户定义的一个方向,如上图所示的主轴方向是从左向右 当然也可也从右往左 也可以从上向下 也可以从下向上<br>\n<strong><code>Cross Axis</code></strong>: 侧轴 永远和主轴垂直的一条周轴 如果主轴横向则侧轴纵向 如果主轴是纵向则侧轴横向</p>\n<p>当我们使用flexbox 布局的时候其实就是先找到一个父元素 添加 <code>display:flex</code> 让这个父元素变成flex container ,然后这个父元素的所有子元素就都变成了flex item, 然后我们分别为 flex container 和 flex item 添加我们所需要的属性就OK了.</p>\n<h2 id=\"flex-container-相关css属性\">flex container 相关CSS属性<a title=\"#flex-container-相关css属性\" href=\"#flex-container-相关css属性\"></a></h2>\n<p>其中 flex container 中可以被使用的flex相关的属性如下:</p>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex-direction\" target=\"_blank\">flex-direction</a></strong>: 控制flex container 中主轴的方向<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex-wrap\" target=\"_blank\">flex-wrap</a></strong>: 如果flex item在主轴方向上的宽度总和比flex container的主轴宽度还宽的时候 flex-wrap 可以控制采用收缩flex item宽度的方式 还是采用换行的方式 来确保flex contianer 能够容下所有flex item<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex-flow\" target=\"_blank\">flex-flow</a></strong>: 这个是CSS的简写属性 它一次性接收2个值, 第一个值给flex-direction 第二个值给flex-wrap.</p>\n<hr>\n<p>下面几个flex container的CSS属性 是用来对齐 flex container内部的flex items用的:<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/align-items\" target=\"_blank\">align-items</a></strong>: 控制flex items 在侧轴方向上的对齐方式,本来flex item可以通过作用于自己的CSS 属性 align-self 控制自己在侧轴方向上的对齐方式, 而 align-items 的作用就是进行批量的设置所有flex items 的align-self的值.</p>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/justify-items\" target=\"_blank\">justify-items</a></strong>: 这是属性和align-items相似是批量控制flex items的 justify-self属性的值用的 但是因为justify-slef在flexbox 当中不会生效,所以这个属性的值也就没有任何作用了,MDN参考文档中的原话:In flexbox layouts, this property is ignored.</p>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/place-items\" target=\"_blank\">place-items</a></strong>: 这个是CSS的简写属性,它接收2个值,第一个值给align-items 第二个值给 justify-items</p>\n<hr>\n<p>在设置content对齐相关的属性之前我们需要了解在flexbox布局当中什么是content:其实也非常的简单在flexbox布局当中 所有flex item构成的统一整体就是flexbox布局的content, 所以说content相关的CSS属性其实就是操作这个统一整体的属性.</p>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/justify-content\" target=\"_blank\">justify-content</a></strong>: 控制主轴方向上content的对齐方式<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/align-content\" target=\"_blank\">align-content</a></strong>: 控制侧轴方向上的 content的对齐方式<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/place-content\" target=\"_blank\">place-content</a></strong>: 这个是CSS的简写属性,它接收2个值,第一个给align-content,第二个给 justify-content.</p>\n<hr>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/row-gap\" target=\"_blank\">row-gap</a></strong>: 控制多行之间的间距,但是有个需要注意的点就是,在我们允许flex-wrap的情况下,如果flex item多行排列,这个时候align-content属性就会生效,因为 align-content的默认值为 stretch, 也就是说默认flex item 在垂直方向是是拉伸显示,多行flex item的渲染高度就是平分 flex container的高度, 看起来 flex item 多行之间就会有一个比较大的间距, 其实这个间距我们可以通过把 align-content设置成一个不是默认值stretch的值 进行消除/或者变成其他形式, 如果我们把align-conteng设置成为 start/center/end 这个看起来很大的间距就会直接消失, 这个时候我们就可以通过 row-gap自由的控制行间距了.<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/column-gap\" target=\"_blank\">column-gap</a></strong>: 控制多列之间的间距<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/gap\" target=\"_blank\">gap</a></strong>: 这个是CSS的简写属性 它最多接收2个值,第1个值给row-gap,第2个值给column-gap.</p>\n<h2 id=\"flex-item-相关css属性\">flex item 相关CSS属性<a title=\"#flex-item-相关css属性\" href=\"#flex-item-相关css属性\"></a></h2>\n<p>我们可以再每一个 flex item设置他自己的 flex相关属性,允许被设置的相关属性如下:<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/order\" target=\"_blank\">order</a></strong>: 这个CSS属性可以用来控制item在flex/grid container内部的摆放顺序,container内部的items 首先会按照 他们的order值升序排列,然后才会按照他们在html源码当中的位置进行排列.</p>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex-grow\" target=\"_blank\">flex-grow</a></strong>: 如果flex items设置了flex-grow属性, 如果flex items就会在主轴方向上强制占满整个flex contaienr的大小,在flex container的大小比flex items的size之和还大的时候(单行显示),就会有一块明显的剩余空间需要被分配, 当flex container的大小没有 flex items的size之和大的时候(多行显示),其实在主轴的边缘还有有可能出现剩余空间的,那就是在felx item的size确定的情况下,如果第一行的末尾剩余的空间刚刚比第二行的第一个元素的size小一点点,刚好容不下导致元素换行的时候这个时候第一行就会出现一个小的剩余空间, 这些剩余空间的合理分配就是通过 flexg-grow设置的权重来实现的.<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex-basis\" target=\"_blank\">flex-basis</a></strong>: 这个CSS属性控制flex item在主轴方向上的初始大小, 这个值比flex item的height/width拥有更高的优先级<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex-shrink\" target=\"_blank\">flex-shrink</a></strong>: 这个值控制在flex item的大小设置过大在主轴方向上超过flex container的大小的时候 如何进行合理的收缩自身的大小来确保 flex item不会溢出到 flex container的外面导致不美观.</p>\n<p>关于flex-shrink导致flex item自身收缩大小的计算方法,在W3C CSS WG 发布的规范文档<a href=\"https://www.w3.org/TR/css-flexbox-1/\" target=\"_blank\">CSS Flexible Box Layout Module Level 1</a>的第9.7章节<a href=\"https://www.w3.org/TR/css-flexbox-1/#resolve-flexible-lengths\" target=\"_blank\">9.7. Resolving Flexible Lengths</a> 有说明,但是规范文档的内容还是比较苦涩难懂,已经有人写了简单易懂的文章:<a href=\"https://www.samanthaming.com/flexbox30/24-flex-shrink-calculation/\" target=\"_blank\">flex-shrink calculation</a></p>\n<p>所谓收缩其实就是flex item 根据自身的 felx-shrink权重把自己剪掉一部分大小,这个被剪掉的大小的计算方式如下:</p>\n<blockquote>\n<ol>\n<li>首先把 flex container把所有的flex item的flex-basis减掉 得到 negative free space 的宽度, 也就是本来要超出容器的宽度</li>\n<li>然后 计算总权重  Σ(flex-basis x flex shrink)</li>\n<li>每个 flex item各自的权重比 就是自己的(fex-basis x flex-shrink)/Σ(flex-basis x flex shrink)</li>\n<li>每个 flex item需要减掉的 部分就是 negative free space * 各自的权重比</li>\n<li>每个 flex item 计算出自己需要剪掉的部分之后就能得出 自己在主轴方向的最终大小了</li>\n</ol>\n</blockquote>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/flex\" target=\"_blank\">flex</a></strong>: 这个是CSS的简写属性, 它接收3个值,第一个给flex-grow,第二个给flex-shrink,第三个给 flex-basis.</p>\n<hr>\n<p><strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/align-self\" target=\"_blank\">align-self</a></strong>: flex item通过这个属性可以控制自己在侧轴方向上的对齐方式.<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/justify-self\" target=\"_blank\">justify-self</a></strong>: 在 flexbox布局当中 这个属性的值会被忽略,MDN参考文档中的原话:In flexbox layouts, this property is ignored.<br>\n<strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/place-self\" target=\"_blank\">place-self</a></strong>: CSS简写属性 最多可以接收2个值 第1个值给align-self,第2个值给justify-self</p>\n<hr>\n","prev":{"title":"CSS Grid Layout 用法","link":"post/2021/202101/CSS-Grid-Layout"},"next":{"title":"JSFiddle 功能介绍","link":"post/2021/202101/JSFiddle功能介绍"},"plink":"http://blog.lipanpanx.com/post/2021/202101/CSS-Flexible-Box-Layout/","toc":[{"id":"flexbox-布局基本概念","title":"flexbox 布局基本概念","index":"1"},{"id":"flex-container-相关css属性","title":"flex container 相关CSS属性","index":"2"},{"id":"flex-item-相关css属性","title":"flex item 相关CSS属性","index":"3"}],"reward":true,"copyright":{"author":"李攀攀","link":"<a href=\"http://blog.lipanpanx.com/post/2021/202101/CSS-Flexible-Box-Layout/\" title=\"CSS Flexible Box Layout用法\">http://blog.lipanpanx.com/post/2021/202101/CSS-Flexible-Box-Layout/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"1876 字约 13 分钟"}