{"title":"VSCode中使用ESLint作为Vue文件的代码格式化工具","date":"2021-06-15T12:20:29.000Z","date_formatted":{"ll":"2021年6月15日","L":"2021/06/15","MM-DD":"06-15"},"link":"post/2021/202106/VSCode中使用ESLint作为代码格式化工具","tags":["vscode"],"updated":"2022-01-31T23:33:48.646Z","content":"<p>很多前端项目都会使用eslint 去检查我们写的代码是否符合规范,但是这年头大家都很懒, 一般都会使用自动的代码格式化工具让自己的代码服务eslint的规范, 但我们使用自动的代码格式话工具免不了要配置, 针对不同的eslint配置要么是使用不同的formatter, 要么是使用同一formatter但是需要使用不同的配置去指定formatter的不同行为,说实话有点麻烦. 其实eslint 自己的 autofix 也很不错了, 可以再保存代码的时候让eslint自动执行autofix.</p>\n<p>下面我讲下 如何使用vscode中的 vscode-eslint插件在保存vue文件的时候自动格式化代码:</p>\n<p>其实非常简单,只需要在vscode的settings.json文件当中添加 如下几行就行了:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;[vue]&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;editor.defaultFormatter&quot;</span>: <span class=\"string\">&quot;dbaeumer.vscode-eslint&quot;</span>,</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"string\">&quot;editor.codeActionsOnSave&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;source.fixAll.eslint&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>当然这里也可以使用下面的配置,但是使用下面配置,如果你的项目当中还使用其他的formatter,需要先把其他的formatter 给disable掉,就比较霸道,不建议使用:</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;eslint.format.enable&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;editor.codeActionsOnSave&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;source.fixAll.eslint&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这里还有个需要注意的点就是,我们使用eslint作为格式化工具的时候,不能和 “editor.formatOnSave” 选项一起使用实现保存时自动格式化,只能和&quot;editor.codeActionsOnSave&quot;选项一起使用 才能实现保存的时候自动格式化.</p>\n<p><a href=\"https://github.com/microsoft/vscode-eslint\" target=\"_blank\">参考文档</a></p>\n","prev":{"title":"VSCode的task系统","link":"post/2021/202106/VSCode的task系统__"},"next":{"title":"VSCode 有趣的配置","link":"post/2021/202106/VSCode-有趣的配置"},"plink":"http://blog.lipanpanx.com/post/2021/202106/VSCode中使用ESLint作为代码格式化工具/","reward":true,"copyright":{"author":"李攀攀","link":"<a href=\"http://blog.lipanpanx.com/post/2021/202106/VSCode中使用ESLint作为代码格式化工具/\" title=\"VSCode中使用ESLint作为Vue文件的代码格式化工具\">http://blog.lipanpanx.com/post/2021/202106/VSCode中使用ESLint作为代码格式化工具/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"393 字约 3 分钟"}