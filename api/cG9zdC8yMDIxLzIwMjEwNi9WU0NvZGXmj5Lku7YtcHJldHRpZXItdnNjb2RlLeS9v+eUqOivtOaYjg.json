{"title":"VSCode插件prettier-vscode使用说明","date":"2021-06-15T09:55:32.000Z","date_formatted":{"ll":"2021年6月15日","L":"2021/06/15","MM-DD":"06-15"},"link":"post/2021/202106/VSCode插件-prettier-vscode-使用说明","tags":["vscode"],"updated":"2022-02-01T00:16:43.416Z","content":"<p><a href=\"https://github.com/prettier/prettier-vscode\" target=\"_blank\">参考文档</a></p>\n<p>prettier是一个不错的 代码格式化工具</p>\n<p>vscode 插件市场中提供了很多 prettier 相关的插件其中使用最多的莫过于官方开发prettier-vscode</p>\n<p>直接在vscode的插件市场中搜索 即可下载此插件</p>\n<h2 id=\"插件是如何工作的\">插件是如何工作的<a title=\"#插件是如何工作的\" href=\"#插件是如何工作的\"></a></h2>\n<p>prettier-vscode 想要工作 说到底最终还是需要调用 prettier的包, 这个prettier包可以是安装在你项目的 node_modules目录当中的本地依赖, 当然可以是全局安装的prettier包, 如果你既没有在项目中把prettier作为依赖安装也没有在全局安装prettier, 这个插件还有一个与它自身事先绑定好的某个特定的prettier版本.</p>\n<p>这里需要注意的是 如果想要此插件使用全局安装的 prettier 则需要 在vscode的 settings.json 当中设置 prettier.resolveGlobalModules 为true.</p>\n<p>另外使用项目本地依赖和全局prettier还有个好处就是可以使用 prettier plugins</p>\n<h2 id=\"插件的配置\">插件的配置<a title=\"#插件的配置\" href=\"#插件的配置\"></a></h2>\n<p>在你安装插件的时候 你可以在插件的介绍页面的 feature contributions 选项卡当中可以看到这个插件 有一大堆的配置, 其实这些配置可以大致被分为2个部分: 一部分是插件自身配置(指定插件如何工作), 另外一部就是prettier的配置项(指定prettier如何格式化代码).</p>\n<p>其中插件自身配置选项有下面这些:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">prettier.enable (<span class=\"keyword\">default</span>: <span class=\"literal\">true</span>)</span><br><span class=\"line\">prettier.requireConfig (<span class=\"keyword\">default</span>: <span class=\"literal\">false</span>)</span><br><span class=\"line\">prettier.ignorePath (<span class=\"keyword\">default</span>: .prettierignore)</span><br><span class=\"line\">prettier.configPath</span><br><span class=\"line\">prettier.prettierPath</span><br><span class=\"line\">prettier.resolveGlobalModules (<span class=\"keyword\">default</span>: <span class=\"literal\">false</span>)</span><br><span class=\"line\">prettier.documentSelectors</span><br><span class=\"line\">prettier.useEditorConfig (<span class=\"keyword\">default</span>: <span class=\"literal\">true</span>)</span><br><span class=\"line\">prettier.withNodeModules (<span class=\"keyword\">default</span>: <span class=\"literal\">false</span>)</span><br></pre></td></tr></table></figure>\n<p>prettier的配置项有下面这些:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">prettier.arrowParens</span><br><span class=\"line\">prettier.bracketSpacing</span><br><span class=\"line\">prettier.endOfLine</span><br><span class=\"line\">prettier.htmlWhitespaceSensitivity</span><br><span class=\"line\">prettier.insertPragma</span><br><span class=\"line\">prettier.jsxBracketSameLine</span><br><span class=\"line\">prettier.jsxSingleQuote</span><br><span class=\"line\">prettier.printWidth</span><br><span class=\"line\">prettier.proseWrap</span><br><span class=\"line\">prettier.quoteProps</span><br><span class=\"line\">prettier.requirePragma</span><br><span class=\"line\">prettier.semi</span><br><span class=\"line\">prettier.singleQuote</span><br><span class=\"line\">prettier.tabWidth</span><br><span class=\"line\">prettier.trailingComma</span><br><span class=\"line\">prettier.useTabs</span><br><span class=\"line\">prettier.vueIndentScriptAndStyle</span><br><span class=\"line\">prettier.embeddedLanguageFormatting</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>这些配置项随时都会被改动 我列出的这些仅仅作为参考 更加准确的信息需要到 当前插件的 feature contributions 去查看(不过有时候这个也不准 还需结合插件文档声明进行查看的🤣)</p>\n</blockquote>\n<p>从上面的信息我们能够看出 在vscode的settings.json文件当中就能够设置所属有的 prettier选项了, 其实不仅仅可以在这里设置 prettier选项  可以在你项目当中放一个专门的prettier 配置文件去配置prettier选项,你也可以在.editorconfig 文件当中去配置prettier选项, 一旦你的项目当中拥有了本地的配置文件 vscode的settings.json当中 相关的prettier配置就会失效, vscoe的settings.json当中的prettier 配置一般情况下是作为备胎使用的, 只有在你的项目当中没有专门的prettier配置文件的时候这个备胎才能发挥作用.</p>\n<blockquote>\n<p>虽然项目的prettier配置可以放在很多地方 但是还是建议将prettier的配置保存在一个专门的prettier配置文件当中去, 因为只有在这种情况下才能保证一次配置多处使用, 如果你项目的prettier配置保存成一个单独的配置文件 你在vscode当中可以使用这个配置, 你可以在CLI当中使用这个配置, 你也可以在任何其他的支持prettier的IDE当中使用这个配置.</p>\n</blockquote>\n<p>这里还有个应用场景我需要说明一下就是: 如果你从网上clone了很多的项目, 每个项目当中都有自己的专门的prettier配置文件,但是这些配置文件当中的配置你不喜欢, 你想要应用自己的prettier配置, 但是很显然项目目录当中的配置文件拥有更高的优先级, 要想应用自己的配置好像也只能删改别人项目当中的配置文件, 但是如果项目比较多的情况下 一个个删改可真够难受的, 这里prettier-vscode插件为我们提供了一个贴心设置项 <code>prettier.configPath</code> 在vscode的settings.json当中可以通过<br>\n这个配置项 指定一个默认的配置文件,指定完毕之后prettier0-vscode插件会优先使用这个配置文件, 就连项目目录当中的配置文件也要靠边站.</p>\n<h2 id=\"插件的使用\">插件的使用<a title=\"#插件的使用\" href=\"#插件的使用\"></a></h2>\n<p>一系列配置完成之后就可以方便的使用这个插件了</p>\n<p>在vscode当中我们直接右键格式化代码的时候选择本插件作为格式化工具<br>\n也可以打开命名面板 调用prettier相关命令使用该插件<br>\n也可以 给这些命令 绑定一些快捷键使用</p>\n<p>也可以 配合 vscode 的保存时自动格式化 使用这个插件</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"string\">&quot;editor.defaultFormatter&quot;</span>: <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span>,</span><br><span class=\"line\"><span class=\"comment\">// 所有语言默认使用 prettier-vscode进行格式化</span></span><br><span class=\"line\"><span class=\"string\">&quot;[javascript]&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;editor.defaultFormatter&quot;</span>: <span class=\"string\">&quot;&lt;another formatter&gt;&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// 这里排除js语言 设置js使用其他的格式化工具</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"string\">&quot;editor.formatOnSave&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"comment\">// 保存代码自动调用格式化工具</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;editor.defaultFormatter&quot;</span>: <span class=\"string\">&quot;&lt;another formatter&gt;&quot;</span>,</span><br><span class=\"line\"><span class=\"string\">&quot;[javascript]&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;editor.defaultFormatter&quot;</span>: <span class=\"string\">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class=\"line\">    <span class=\"comment\">// 也可以配置成仅仅js语言使用 prettier-vscode 进行格式化</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"string\">&quot;editor.formatOnSave&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\"><span class=\"comment\">// 保存代码自动调用格式化工具</span></span><br></pre></td></tr></table></figure>\n","prev":{"title":"VSCode 有趣的配置","link":"post/2021/202106/VSCode-有趣的配置"},"next":{"title":"在VSCode中为VueCLI创建的项目选择代码格式化工具","link":"post/2021/202106/在VSCode中为VueCLI创建的项目选择代码格式化工具"},"plink":"http://blog.lipanpanx.com/post/2021/202106/VSCode插件-prettier-vscode-使用说明/","toc":[{"id":"插件是如何工作的","title":"插件是如何工作的","index":"1"},{"id":"插件的配置","title":"插件的配置","index":"2"},{"id":"插件的使用","title":"插件的使用","index":"3"}],"reward":true,"copyright":{"author":"李攀攀","link":"<a href=\"http://blog.lipanpanx.com/post/2021/202106/VSCode插件-prettier-vscode-使用说明/\" title=\"VSCode插件prettier-vscode使用说明\">http://blog.lipanpanx.com/post/2021/202106/VSCode插件-prettier-vscode-使用说明/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"1337 字约 9 分钟"}