{"title":"CSS BFC的应用场景","date":"2021-01-11T10:50:04.000Z","date_formatted":{"ll":"2021年1月11日","L":"2021/01/11","MM-DD":"01-11"},"link":"post/2021/202101/CSS-BFC的应用场景","categories":["CSS相关"],"updated":"2022-01-12T23:53:59.409Z","content":"<p>今天讲一下CSS BFC的几个应用场景:</p>\n<h2 id=\"contain-internal-floats\">contain internal floats<a title=\"#contain-internal-floats\" href=\"#contain-internal-floats\"></a></h2>\n<p>看下下面这个例子:</p>\n<script async src=\"//jsrun.net/XSUKp/embed/all/light\"></script>\n<p>在这个例子当中我们可以看到 在外层div包含了一个div和一个p,其中内层div是浮动的, 很遗憾的是这个浮动的div超出了外层div的包裹范围,这并不美观而且大多数情况下也不是我们想要的结果, 此时我们就可以打开 CSS中 <code>display:flow-root;</code> 这句的注释,打开外部div的这句注释之后, 就能看到内部浮动的盒子原本溢出的部分被重新包含到了 外部div的border当中了, 这是因为 当我们为外部div当中添加 <code>display:flow-root;</code> 之后, 这个元素和它的子元素就会构成一个新的BFC, 因为BFC构成了一个隔离的独立容器, 容器里面的子元素不会影响到外部的元素, 外部的元素也不会影响到里面的元素, 而且计算BFC高度的时候 浮动元素也需要参与其中, 所以我们不要去手动指定外部div的高度, 这个高度会自动计算直到成功的把float的元素给包裹住. 我们的问题就这么解决了.</p>\n<h2 id=\"exclude-external-floats\">exclude external floats<a title=\"#exclude-external-floats\" href=\"#exclude-external-floats\"></a></h2>\n<script async src=\"//jsrun.net/d4UKp/embed/all/light/\"></script>\n<p>在这个例子当中我们可以看到 <code>&lt;section&gt;</code> 内部有2个div,其中一个div浮动另外div一个显示在浮动的下方并且其内部的内容围绕着浮动显示,此时如果我们想要实现双列布局应该怎么做呢? 其实只要只要为为第二个非浮动的子div添加 <code>display:flow-root;</code>就行了, 因为如此以来 第二个非浮动的div 他自己就构成了一个新的BFC,而BFC是独立渲染的区域不会与周围的元素相互影响也不能与周围的浮动盒子产生重叠,所以非浮动div和浮动div构成的盒子就分开了,这样双列布局就形成了.</p>\n<h2 id=\"margin-collapsing\">margin collapsing<a title=\"#margin-collapsing\" href=\"#margin-collapsing\"></a></h2>\n<script async src=\"//jsrun.net/sK9Kp/embed/all/light/\"></script>\n<p>在这里例子当中, 因为 三个div 同属于同一个BFC的缘故 我们可以看到 首先 我们为.red-outer设置的 margin-top不会起作用, 然后我们为.red-inner设置的margin-top 也不会起作用, 这2个margin都会被折叠起来, 因为同一个BFC内的垂直方向上的 margin会折叠,这是BFC内的布局规则, 但是当我们打开CSS当中 .red-out的 <code>display:flow-root</code> 这句注释的时候情况会有所不同, 首先.red-outer的margin-top还是不会起作用,然后.red-inner的margin-top却起作用了, 这是因为 当我们为.red-outer添加 <code>display:flow-root</code> 这句注释的时候, .red-outer和它的子元素.red-inner就会构建成为一个新的BFC.在这个新BFC内部的元素独立渲染 margin不会和原来的BFC的margin产生重叠,所以生效是必然的.</p>\n<hr>\n<p>在上面的3个例子当中 我们可以看到构建一个新的 BFC,我向相关的CSS 当中添加了 <code>display:flow-root</code>,其实还有其他的多种方法来构建一个新的BFC,但是这种方式是MDN的教程中比较推荐的一种方式,因为这种方式所造成的副作用最小.</p>\n","prev":{"title":"JSFiddle 功能介绍","link":"post/2021/202101/JSFiddle功能介绍"},"next":{"title":"CSS visual formatting model","link":"post/2021/202101/CSS-VFM"},"plink":"http://blog.lipanpanx.com/post/2021/202101/CSS-BFC的应用场景/","toc":[{"id":"contain-internal-floats","title":"contain internal floats","index":"1"},{"id":"exclude-external-floats","title":"exclude external floats","index":"2"},{"id":"margin-collapsing","title":"margin collapsing","index":"3"}],"reward":true,"copyright":{"author":"李攀攀","link":"<a href=\"http://blog.lipanpanx.com/post/2021/202101/CSS-BFC的应用场景/\" title=\"CSS BFC的应用场景\">http://blog.lipanpanx.com/post/2021/202101/CSS-BFC的应用场景/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"},"reading_time":"855 字约 6 分钟"}